# Shared elements for poems
# This file contains common elements that can be referenced by individual poem files
#
# Usage:
#   To reference an element in a poem YAML file, use:
#   postscript:
#     - $ref: "shared.yaml#/disclaimer"
#
#   The format is: $ref: "filename#/path/to/element"
#   - filename: relative path from the poem file to this shared file
#   - path: JSON pointer style path to the specific element (starts with /)
#
# Adding new shared elements:
#   1. Add the element to this file under a descriptive key
#   2. Reference it in poem files using the $ref syntax above
#   3. The build system will automatically resolve and include the content
#
# Note: Changes to shared elements will affect all poems that reference them

disclaimer:
  label: Disclaimer
  content: |
    Some lyrics have been generated by AI.<br />
    <input type="checkbox" name="hide-ai-checkbox" />
    <label for="hide-ai-checkbox">Hide AI-generated content.</label>
    <script>
      document
        .getElementById('poem--${slug}')
        .getElementsByTagName('input')[0]
        .addEventListener('change', function(event) {
          const ai_elements = document
            .getElementById('poem--${slug}')
            .getElementsByClassName("ai");
          const visibility = event.target.checked ? 'hidden' : 'visible';
          for (var i=0; i < ai_elements.length; i++) {
            ai_elements[i].style.visibility = visibility;
          }
        });
    </script>
